# Section 5. Function

## 函数的定义

使用`fn`关键字定义函数

函数的参数有两种：

- `parameters`: 函数定义上的参数，**形参**，在函数签名里，必须声明每个参数的类型
- `arguments`: 实际调用函数时，传入的参数，**实参**

```rust
fn main() {
    demo_function(10);  // 这个10就是arguments
}

fn demo_funtion(x: i32) {  // 这里的x是parameters
    println!("x is {}", x);
}
```

### 函数体中的语句和表达式

- 函数体由一系列语句组成，可选的由一个表达式结束
- rust是一个基于表达式的语言

#### 语句

- 函数的定义也是语句
- 语句是执行一些动作的指令
- 语句没有返回值，所以不可以用`let`将一个语句赋给一个变量
- 语句的返回值是一个空的Tuple `()`

```rust
// 整个函数也是一个语句
fn main() {
    let y = 6;  // 这一行就是一个语句
    let x = (let y = 6);  // 这一行就会报错，因为语句没有返回值
}
```

#### 表达式

- 表达式会计算产生一个值
- 所有的字面值都是表达式
- 表达式可以作为语句的一部分，调用函数也是表达式，调用宏也是表达式

```rust
fn main() {
    let x = 5;
    // 花括号这里就是一个块表达式，其返回值就是4，即y的值就是4
    let y = {
        let x = 1;
        x + 3
    };
    // 由于x + 3表达式后面增加了分号
    let z = {
        let x = 1;
        x + 3;  // 这里是一个语句
    };
}
```

### 函数的返回值

- 在`->`符号后边声明函数返回值的类型，但是不可以为返回值命名
- 在rust里，返回值就是函数体里面最后一个表达式的值
- 若想提前返回，需要使用`return`关键字，并指定一个值
    - 大多数函数都是默认使用最后一个表达式作为返回值

```rust
fn main() {
    let x = plus_five(1);
    println!("x is {}", x);
}

fn plus_five(x: i32) -> i32 {
    x + 5
}
```
